<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì‹ ì˜ ì›¹ í”„ë¡œì íŠ¸ | í”„ë¦¬ë¯¸ì—„ ì‹¤ì‚¬ ì¶œë ¥ í”Œë«í¼</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Pretendard:wght@300;400;600;700&display=swap');
        body { font-family: 'Pretendard', sans-serif; }
        
        /* ë„¤ë¹„ê²Œì´ì…˜ í™œì„± ìƒíƒœ ìŠ¤íƒ€ì¼ */
        .nav-item.active { color: #2563EB; border-bottom: 2px solid #2563EB; font-weight: 700; }
        
        /* í˜ì´ì§€ ì „í™˜ ì• ë‹ˆë©”ì´ì…˜ */
        .page-section { display: none; animation: fadeIn 0.4s ease-in-out; }
        .page-section.active { display: block; }
        
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        /* ì»¤ìŠ¤í…€ ë¼ë””ì˜¤ UI */
        .option-card:checked + div {
            border-color: #2563EB; background-color: #EFF6FF; color: #1E40AF;
            box-shadow: 0 4px 6px -1px rgba(37, 99, 235, 0.1);
        }
        .option-card:checked + div .check-icon { display: block; }
        #preview-object { background-size: cover; background-position: center; }
    </style>
</head>
<body class="bg-gray-50 text-gray-800 flex flex-col min-h-screen">

    <nav class="bg-white border-b border-gray-200 sticky top-0 z-50 shadow-sm">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-16">
                <div class="flex items-center cursor-pointer" onclick="showPage('home')">
                    <i class="fa-solid fa-layer-group text-blue-600 text-2xl mr-2"></i>
                    <span class="font-bold text-xl text-gray-900 tracking-tight">ì‹ ì˜ ì›¹ í”„ë¡œì íŠ¸</span>
                </div>
                
                <div class="hidden md:flex space-x-8 h-full">
                    <button onclick="showPage('home')" id="nav-home" class="nav-item active inline-flex items-center px-1 pt-1 text-sm font-medium text-gray-900 h-full border-b-2 border-transparent hover:text-blue-600">íšŒì‚¬ì†Œê°œ</button>
                    <button onclick="showPage('products')" id="nav-products" class="nav-item inline-flex items-center px-1 pt-1 text-sm font-medium text-gray-500 h-full border-b-2 border-transparent hover:text-blue-600">ìƒí’ˆëª©ë¡</button>
                    <button onclick="showPage('order')" id="nav-order" class="nav-item inline-flex items-center px-1 pt-1 text-sm font-medium text-gray-500 h-full border-b-2 border-transparent hover:text-blue-600">ì£¼ë¬¸í•˜ê¸°</button>
                </div>

                <div class="flex items-center space-x-4">
                    <button onclick="showPage('cart')" class="relative p-2 text-gray-400 hover:text-gray-500">
                        <i class="fa-solid fa-cart-shopping text-xl"></i>
                        <span id="cart-badge" class="absolute top-0 right-0 inline-flex items-center justify-center px-2 py-1 text-xs font-bold leading-none text-white transform translate-x-1/4 -translate-y-1/4 bg-red-600 rounded-full hidden">0</span>
                    </button>
                    <button class="flex items-center text-sm font-medium text-gray-700 hover:text-gray-800">
                        <div class="w-8 h-8 rounded-full bg-gray-200 flex items-center justify-center mr-2"><i class="fa-solid fa-user"></i></div>
                        <span>ì£¼í•´ì„± ë‹˜</span>
                    </button>
                </div>
            </div>
        </div>
    </nav>

    <main class="flex-grow">
        
        <section id="page-home" class="page-section active">
            <div class="bg-gray-900 text-white relative overflow-hidden">
                <div class="absolute inset-0 bg-gradient-to-r from-blue-900 to-gray-900 opacity-90"></div>
                <div class="relative max-w-7xl mx-auto py-24 px-4 sm:px-6 lg:px-8 flex flex-col md:flex-row items-center">
                    <div class="md:w-1/2 mb-10 md:mb-0">
                        <h1 class="text-4xl md:text-5xl font-extrabold tracking-tight mb-4">
                            ìƒìƒì„ í˜„ì‹¤ë¡œ ì¶œë ¥í•˜ë‹¤.<br>
                            <span class="text-blue-400">ì‹ ì˜ ì›¹ í”„ë¡œì íŠ¸</span>
                        </h1>
                        <p class="text-xl text-gray-300 mb-8 max-w-lg">
                            ë³µì¡í•œ ì‹¤ì‚¬ ì¶œë ¥ ì£¼ë¬¸, ì´ì œ ì „ë¬¸ê°€ê°€ ì•„ë‹ˆì–´ë„ ê´œì°®ìŠµë‹ˆë‹¤. AI ê¸°ë°˜ ìë™ ê²¬ì  ì‹œìŠ¤í…œìœ¼ë¡œ 1ì´ˆ ë§Œì— ë¹„ìš©ì„ í™•ì¸í•˜ê³  ì£¼ë¬¸í•˜ì„¸ìš”.
                        </p>
                        <button onclick="showPage('products')" class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-8 rounded-lg shadow-lg transition transform hover:scale-105">
                            ìƒí’ˆ ì „ì²´ë³´ê¸°
                        </button>
                    </div>
                    <div class="md:w-1/2 flex justify-center">
                        <img src="https://images.unsplash.com/photo-1562564055-71e051d33c19?ixlib=rb-4.0.3&auto=format&fit=crop&w=1000&q=80" alt="Printing Machine" class="rounded-xl shadow-2xl opacity-80 max-h-80 object-cover">
                    </div>
                </div>
            </div>

            <div class="max-w-7xl mx-auto py-16 px-4">
                <div class="text-center mb-12">
                    <h2 class="text-3xl font-bold text-gray-900">ì™œ ì‹ ì˜ ì›¹ í”„ë¡œì íŠ¸ì¸ê°€ìš”?</h2>
                    <p class="mt-4 text-gray-500">ì°¨ë³„í™”ëœ ê¸°ìˆ ë ¥ê³¼ ì‹œìŠ¤í…œìœ¼ë¡œ ìµœìƒì˜ ê²°ê³¼ë¬¼ì„ ì œê³µí•©ë‹ˆë‹¤.</p>
                </div>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                    <div class="bg-white p-8 rounded-2xl shadow-sm border border-gray-100 text-center hover:shadow-md transition">
                        <div class="w-16 h-16 bg-blue-100 text-blue-600 rounded-full flex items-center justify-center mx-auto mb-4 text-2xl">
                            <i class="fa-solid fa-calculator"></i>
                        </div>
                        <h3 class="text-xl font-bold mb-2">ì‹¤ì‹œê°„ ìë™ ê²¬ì </h3>
                        <p class="text-gray-500">ê¸°ë‹¤ë¦´ í•„ìš” ì—†ìŠµë‹ˆë‹¤. ì‚¬ì´ì¦ˆì™€ ì˜µì…˜ë§Œ ì…ë ¥í•˜ë©´ AIê°€ ì¦‰ì‹œ ì •í™•í•œ ê²¬ì ì„ ì‚°ì¶œí•©ë‹ˆë‹¤.</p>
                    </div>
                    <div class="bg-white p-8 rounded-2xl shadow-sm border border-gray-100 text-center hover:shadow-md transition">
                        <div class="w-16 h-16 bg-green-100 text-green-600 rounded-full flex items-center justify-center mx-auto mb-4 text-2xl">
                            <i class="fa-solid fa-check-double"></i>
                        </div>
                        <h3 class="text-xl font-bold mb-2">ë°ì´í„° ìë™ ê²€ìˆ˜</h3>
                        <p class="text-gray-500">í•´ìƒë„, ìƒ‰ìƒ ëª¨ë“œ, ì¬ë‹¨ ì—¬ë°± ë“± ì¶œë ¥ ì‚¬ê³ ë¥¼ ìœ ë°œí•˜ëŠ” ìš”ì†Œë¥¼ ì‚¬ì „ì— ì°¨ë‹¨í•©ë‹ˆë‹¤.</p>
                    </div>
                    <div class="bg-white p-8 rounded-2xl shadow-sm border border-gray-100 text-center hover:shadow-md transition">
                        <div class="w-16 h-16 bg-purple-100 text-purple-600 rounded-full flex items-center justify-center mx-auto mb-4 text-2xl">
                            <i class="fa-solid fa-truck-fast"></i>
                        </div>
                        <h3 class="text-xl font-bold mb-2">ìµœì  ë¬¼ë¥˜ ì‹œìŠ¤í…œ</h3>
                        <p class="text-gray-500">ì œí’ˆ í¬ê¸°ì— ë”°ë¼ íƒë°°, í™”ë¬¼, í€µ ë“± ê°€ì¥ ì•ˆì „í•˜ê³  ì €ë ´í•œ ë°°ì†¡ ë°©ë²•ì„ ìë™ ë§¤ì¹­í•©ë‹ˆë‹¤.</p>
                    </div>
                </div>
            </div>
        </section>

        <section id="page-products" class="page-section max-w-7xl mx-auto py-12 px-4">
            <h2 class="text-2xl font-bold mb-8">ì „ì²´ ìƒí’ˆ ëª©ë¡</h2>
            <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6">
                <div class="bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden hover:shadow-lg transition group">
                    <div class="h-48 bg-gray-200 relative overflow-hidden">
                        <img src="https://images.unsplash.com/photo-1520607162513-77705c0f0d4a?auto=format&fit=crop&w=500&q=60" class="w-full h-full object-cover group-hover:scale-110 transition duration-500">
                    </div>
                    <div class="p-5">
                        <div class="text-xs text-blue-600 font-bold mb-1">BEST SELLER</div>
                        <h3 class="font-bold text-lg mb-2">ëŒ€í˜• í˜„ìˆ˜ë§‰</h3>
                        <p class="text-gray-500 text-sm mb-4">ì´ë²¤íŠ¸, í–‰ì‚¬ìš© 150D ê³ ë°œìƒ‰ ì›ë‹¨</p>
                        <div class="flex justify-between items-center">
                            <span class="font-bold">5,000ì›~</span>
                            <button onclick="selectProductAndGo('fabric')" class="bg-gray-900 text-white px-4 py-2 rounded text-sm hover:bg-gray-700">ì£¼ë¬¸í•˜ê¸°</button>
                        </div>
                    </div>
                </div>
                <div class="bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden hover:shadow-lg transition group">
                    <div class="h-48 bg-gray-200 relative overflow-hidden">
                        <img src="https://images.unsplash.com/photo-1589308078059-be1415eab4c3?auto=format&fit=crop&w=500&q=60" class="w-full h-full object-cover group-hover:scale-110 transition duration-500">
                    </div>
                    <div class="p-5">
                        <div class="text-xs text-green-600 font-bold mb-1">NEW</div>
                        <h3 class="font-bold text-lg mb-2">ë§ì¶¤ ìŠ¤í‹°ì»¤/ë¼ë²¨</h3>
                        <p class="text-gray-500 text-sm mb-4">ëª¨ì–‘ ë”°ê¸°(ë”ë³´) ê°€ê³µ ê°€ëŠ¥</p>
                        <div class="flex justify-between items-center">
                            <span class="font-bold">7,000ì›~</span>
                            <button onclick="selectProductAndGo('adhesive')" class="bg-gray-900 text-white px-4 py-2 rounded text-sm hover:bg-gray-700">ì£¼ë¬¸í•˜ê¸°</button>
                        </div>
                    </div>
                </div>
                <div class="bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden hover:shadow-lg transition group">
                    <div class="h-48 bg-gray-200 relative overflow-hidden">
                        <img src="https://images.unsplash.com/photo-1628191011353-5c9163aa96e1?auto=format&fit=crop&w=500&q=60" class="w-full h-full object-cover group-hover:scale-110 transition duration-500">
                    </div>
                    <div class="p-5">
                        <div class="text-xs text-purple-600 font-bold mb-1">PREMIUM</div>
                        <h3 class="font-bold text-lg mb-2">Xë°°ë„ˆ / PET</h3>
                        <p class="text-gray-500 text-sm mb-4">ë§¤ì¥ í™ë³´ í•„ìˆ˜í…œ, ê±°ì¹˜ëŒ€ ë³„ë§¤</p>
                        <div class="flex justify-between items-center">
                            <span class="font-bold">9,000ì›~</span>
                            <button onclick="selectProductAndGo('banner')" class="bg-gray-900 text-white px-4 py-2 rounded text-sm hover:bg-gray-700">ì£¼ë¬¸í•˜ê¸°</button>
                        </div>
                    </div>
                </div>
                <div class="bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden hover:shadow-lg transition group">
                    <div class="h-48 bg-gray-200 relative overflow-hidden">
                        <img src="https://images.unsplash.com/photo-1513542789411-b6a5d4f31634?auto=format&fit=crop&w=500&q=60" class="w-full h-full object-cover group-hover:scale-110 transition duration-500">
                    </div>
                    <div class="p-5">
                        <div class="text-xs text-gray-500 font-bold mb-1">RIGID</div>
                        <h3 class="font-bold text-lg mb-2">í¼ë³´ë“œ / í¬ë©•ìŠ¤</h3>
                        <p class="text-gray-500 text-sm mb-4">ì „ì‹œíšŒ, ë“±ì‹ ëŒ€ ì œì‘ìš© íŒì¬</p>
                        <div class="flex justify-between items-center">
                            <span class="font-bold">12,000ì›~</span>
                            <button onclick="selectProductAndGo('board')" class="bg-gray-900 text-white px-4 py-2 rounded text-sm hover:bg-gray-700">ì£¼ë¬¸í•˜ê¸°</button>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="page-order" class="page-section max-w-7xl mx-auto py-8 px-4">
            <div class="flex flex-col lg:flex-row gap-8">
                <div class="lg:w-2/3 space-y-6">
                    <div class="bg-white p-6 rounded-2xl shadow-sm border border-gray-200">
                        <h2 class="text-lg font-bold mb-4 flex items-center text-gray-800"><span class="bg-blue-100 text-blue-600 text-xs px-2 py-1 rounded mr-2">STEP 1</span> ì†Œì¬ ì„ íƒ</h2>
                        <div class="grid grid-cols-2 md:grid-cols-4 gap-3">
                            <label class="cursor-pointer group">
                                <input type="radio" name="category" value="fabric" class="option-card hidden peer" onchange="updateUI('fabric')" checked>
                                <div class="border-2 border-gray-100 rounded-xl p-3 text-center hover:border-blue-300 transition-all h-full relative">
                                    <i class="fa-solid fa-circle-check text-blue-600 absolute top-2 right-2 check-icon hidden text-xs"></i>
                                    <div class="text-2xl mb-1">ğŸš©</div>
                                    <div class="font-bold text-sm">ì²œ ì†Œì¬</div>
                                </div>
                            </label>
                            <label class="cursor-pointer group">
                                <input type="radio" name="category" value="adhesive" class="option-card hidden peer" onchange="updateUI('adhesive')">
                                <div class="border-2 border-gray-100 rounded-xl p-3 text-center hover:border-blue-300 transition-all h-full relative">
                                    <i class="fa-solid fa-circle-check text-blue-600 absolute top-2 right-2 check-icon hidden text-xs"></i>
                                    <div class="text-2xl mb-1">ğŸ·ï¸</div>
                                    <div class="font-bold text-sm">ì ì°© ì†Œì¬</div>
                                </div>
                            </label>
                            <label class="cursor-pointer group">
                                <input type="radio" name="category" value="banner" class="option-card hidden peer" onchange="updateUI('banner')">
                                <div class="border-2 border-gray-100 rounded-xl p-3 text-center hover:border-blue-300 transition-all h-full relative">
                                    <i class="fa-solid fa-circle-check text-blue-600 absolute top-2 right-2 check-icon hidden text-xs"></i>
                                    <div class="text-2xl mb-1">ğŸ–¼ï¸</div>
                                    <div class="font-bold text-sm">PET/ë°°ë„ˆ</div>
                                </div>
                            </label>
                            <label class="cursor-pointer group">
                                <input type="radio" name="category" value="board" class="option-card hidden peer" onchange="updateUI('board')">
                                <div class="border-2 border-gray-100 rounded-xl p-3 text-center hover:border-blue-300 transition-all h-full relative">
                                    <i class="fa-solid fa-circle-check text-blue-600 absolute top-2 right-2 check-icon hidden text-xs"></i>
                                    <div class="text-2xl mb-1">ğŸ“¦</div>
                                    <div class="font-bold text-sm">ë³´ë“œë¥˜</div>
                                </div>
                            </label>
                        </div>
                        <div id="material-options" class="mt-4 flex flex-wrap gap-2"></div>
                    </div>

                    <div class="bg-white p-6 rounded-2xl shadow-sm border border-gray-200">
                        <h2 class="text-lg font-bold mb-4 flex items-center text-gray-800"><span class="bg-blue-100 text-blue-600 text-xs px-2 py-1 rounded mr-2">STEP 2</span> ì‚¬ì´ì¦ˆ ì…ë ¥ (mm)</h2>
                        <div class="flex gap-4 items-center">
                            <div class="w-1/2 relative">
                                <input type="number" id="width" value="1000" class="w-full pl-3 pr-10 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none font-bold" oninput="updatePreview()">
                                <span class="absolute right-3 top-3.5 text-gray-400 text-sm">W</span>
                            </div>
                            <div class="text-gray-300">âœ•</div>
                            <div class="w-1/2 relative">
                                <input type="number" id="height" value="800" class="w-full pl-3 pr-10 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none font-bold" oninput="updatePreview()">
                                <span class="absolute right-3 top-3.5 text-gray-400 text-sm">H</span>
                            </div>
                        </div>
                        <div id="width-warning" class="hidden mt-3 p-3 bg-orange-50 text-orange-700 rounded-lg text-sm flex items-start">
                            <i class="fa-solid fa-triangle-exclamation mt-0.5 mr-2"></i>
                            <div><strong>í­ 1800mm ì´ˆê³¼:</strong> ë¶„í•  ì¶œë ¥ í›„ ë¯¸ì‹± ì—°ê²° ë°©ì‹ìœ¼ë¡œ ì œì‘ë©ë‹ˆë‹¤.</div>
                        </div>
                    </div>

                    <div class="bg-white p-6 rounded-2xl shadow-sm border border-gray-200">
                        <h2 class="text-lg font-bold mb-4 flex items-center text-gray-800"><span class="bg-blue-100 text-blue-600 text-xs px-2 py-1 rounded mr-2">STEP 3</span> í›„ê°€ê³µ ì˜µì…˜</h2>
                        <div id="finishing-options" class="grid grid-cols-1 md:grid-cols-2 gap-3"></div>
                    </div>
                </div>

                <div class="lg:w-1/3">
                    <div class="sticky top-24 space-y-6">
                        <div class="bg-gray-800 rounded-2xl p-6 shadow-xl text-white relative flex flex-col items-center min-h-[300px]">
                            <div class="w-full flex justify-between items-center mb-4 z-10">
                                <div class="text-xs text-gray-400 font-mono">LIVE PREVIEW</div>
                                <label class="cursor-pointer bg-gray-700 hover:bg-gray-600 text-xs px-3 py-1.5 rounded flex items-center transition-colors">
                                    <i class="fa-solid fa-camera mr-2"></i>íŒŒì¼ ì—…ë¡œë“œ
                                    <input type="file" id="image-upload" accept="image/*" class="hidden" onchange="handleImageUpload(event)">
                                </label>
                            </div>
                            
                            <div id="preview-stage" class="relative transition-all duration-500 flex items-center justify-center flex-grow w-full">
                                <div id="preview-object" class="bg-white text-gray-800 flex items-center justify-center font-bold text-sm shadow-lg relative overflow-hidden transition-all" style="width: 200px; height: 160px;">
                                    <span id="preview-text" class="z-10 text-gray-400">ì´ë¯¸ì§€ ì—†ìŒ</span>
                                    <div id="preview-border" class="absolute inset-0 border-2 border-transparent z-20 pointer-events-none"></div>
                                    <div class="hole hole-tl absolute top-1 left-1 w-2 h-2 bg-gray-800 rounded-full hidden z-30"></div>
                                    <div class="hole hole-tr absolute top-1 right-1 w-2 h-2 bg-gray-800 rounded-full hidden z-30"></div>
                                    <div class="hole hole-bl absolute bottom-1 left-1 w-2 h-2 bg-gray-800 rounded-full hidden z-30"></div>
                                    <div class="hole hole-br absolute bottom-1 right-1 w-2 h-2 bg-gray-800 rounded-full hidden z-30"></div>
                                </div>
                            </div>
                            
                            <div class="mt-6 text-center w-full z-10">
                                <div class="text-gray-400 text-sm mb-1">ìµœì¢… ê²°ì œ ê¸ˆì•¡ (VAT ë³„ë„)</div>
                                <div id="total-price" class="text-3xl font-bold text-yellow-400">0ì›</div>
                            </div>
                        </div>

                        <div class="bg-white rounded-xl p-5 shadow-sm border border-gray-200">
                            <h3 class="font-bold text-gray-800 mb-2 text-sm flex items-center"><i class="fa-solid fa-list-check mr-2 text-green-600"></i>ì‘ì—… íŒŒì¼ ì²´í¬</h3>
                            <ul class="text-xs space-y-1.5 text-gray-600">
                                <li><i class="fa-solid fa-check text-green-500 mr-1.5"></i>ìƒ‰ìƒ ëª¨ë“œ: CMYK ê¶Œì¥</li>
                                <li><i class="fa-solid fa-check text-green-500 mr-1.5"></i>í•´ìƒë„: 1:1 ê¸°ì¤€ 72~150dpi</li>
                                <li><i class="fa-solid fa-check text-green-500 mr-1.5"></i>ì¬ë‹¨ ì—¬ë°±: ì‚¬ë°© 2mm</li>
                            </ul>
                        </div>

                        <button onclick="addToCart()" class="w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-4 rounded-xl shadow-lg transition transform active:scale-95 flex justify-center items-center">
                            <i class="fa-solid fa-cart-plus mr-2"></i>ì¥ë°”êµ¬ë‹ˆ ë‹´ê¸°
                        </button>
                    </div>
                </div>
            </div>
        </section>

        <section id="page-cart" class="page-section max-w-5xl mx-auto py-12 px-4">
            <h2 class="text-2xl font-bold mb-8">ì¥ë°”êµ¬ë‹ˆ <span id="cart-count-title" class="text-blue-600 text-lg ml-2">(0)</span></h2>
            
            <div id="cart-empty" class="text-center py-20 bg-white rounded-xl border border-gray-200">
                <i class="fa-solid fa-cart-arrow-down text-6xl text-gray-200 mb-4"></i>
                <p class="text-gray-500 text-lg">ì¥ë°”êµ¬ë‹ˆê°€ ë¹„ì–´ìˆìŠµë‹ˆë‹¤.</p>
                <button onclick="showPage('order')" class="mt-6 text-blue-600 font-semibold hover:underline">ì£¼ë¬¸í•˜ëŸ¬ ê°€ê¸°</button>
            </div>

            <div id="cart-items-container" class="hidden space-y-4">
                </div>

            <div id="cart-summary" class="hidden mt-8 bg-white p-6 rounded-xl border border-gray-200 flex justify-end items-center gap-6">
                <div class="text-right">
                    <div class="text-gray-500 text-sm">ì´ ê²°ì œ ì˜ˆì • ê¸ˆì•¡</div>
                    <div id="cart-grand-total" class="text-2xl font-bold text-gray-900">0ì›</div>
                </div>
                <button class="bg-gray-900 text-white px-8 py-3 rounded-lg font-bold hover:bg-gray-800">ì£¼ë¬¸í•˜ê¸°</button>
            </div>
        </section>

    </main>

    <footer class="bg-white border-t border-gray-200 mt-12 py-10">
        <div class="max-w-7xl mx-auto px-4 text-center text-gray-500 text-sm">
            <p class="mb-2"><strong>(ì£¼)ì‹ ì˜ ì›¹ í”„ë¡œì íŠ¸</strong> | ëŒ€í‘œ: ì£¼í•´ì„± | ì‚¬ì—…ìë“±ë¡ë²ˆí˜¸: 123-45-67890</p>
            <p>Copyright Â© 2026 Shinyoung Web Project. All rights reserved.</p>
        </div>
    </footer>

    <script>
        // --- 1. ë¼ìš°íŒ… ë¡œì§ ---
        function showPage(pageId) {
            // 1) ëª¨ë“  ì„¹ì…˜ ìˆ¨ê¹€
            document.querySelectorAll('.page-section').forEach(el => el.classList.remove('active'));
            // 2) íƒ€ê²Ÿ ì„¹ì…˜ ë³´ì„
            document.getElementById('page-' + pageId).classList.add('active');
            
            // 3) ë„¤ë¹„ê²Œì´ì…˜ í™œì„± ìƒíƒœ ë³€ê²½
            document.querySelectorAll('.nav-item').forEach(el => el.classList.remove('active'));
            const navBtn = document.getElementById('nav-' + pageId);
            if(navBtn) navBtn.classList.add('active');
            
            // 4) ìŠ¤í¬ë¡¤ ìµœìƒë‹¨ ì´ë™
            window.scrollTo(0, 0);
        }

        function selectProductAndGo(category) {
            showPage('order');
            // ë¼ë””ì˜¤ ë²„íŠ¼ ê°•ì œ í´ë¦­ íŠ¸ë¦¬ê±°
            const radio = document.querySelector(`input[name="category"][value="${category}"]`);
            if(radio) {
                radio.checked = true;
                updateUI(category);
            }
        }

        // --- 2. ì£¼ë¬¸ ì‹œìŠ¤í…œ ë¡œì§ (Visual Estimator) ---
        const db = {
            fabric: {
                label: "í˜„ìˆ˜ë§‰/ì²œ",
                materials: [{ name: "ì¼ë°˜ í˜„ìˆ˜ë§‰ (150D)", price: 5000 }, { name: "í…íŠ¸ì²œ (ê³ ê¸‰)", price: 8000 }],
                finishing: [{ name: "ì—´ì¬ë‹¨", price: 0, icon: "fa-scissors" }, { name: "ì‚¬ë°© ë¯¸ì‹±", price: 3000, icon: "fa-border-all" }, { name: "ê¸ˆì† ì•„ì¼ë ›(íƒ€ê³µ)", price: 2000, icon: "fa-bullseye" }]
            },
            adhesive: {
                label: "ìŠ¤í‹°ì»¤/ì‹œíŠ¸",
                materials: [{ name: "ìœ í¬ì§€ (ë¹„ì‹ ì¶•)", price: 7000 }, { name: "PVC ì¼ˆì§€ (ì‹ ì¶•)", price: 10000 }],
                finishing: [{ name: "ì‚¬ê° ì¬ë‹¨", price: 0, icon: "fa-square" }, { name: "ëª¨ì–‘ ë”°ê¸° (ë”ë³´)", price: 5000, icon: "fa-shapes" }]
            },
            banner: { label: "ë°°ë„ˆ/PET", materials: [{ name: "PET ë°°ë„ˆ", price: 9000 }], finishing: [] },
            board: { label: "ë³´ë“œë¥˜", materials: [{ name: "í¼ë³´ë“œ 5T", price: 12000 }], finishing: [] }
        };

        let currentCat = 'fabric';
        let currentMatPrice = 5000;
        let currentMatName = "ì¼ë°˜ í˜„ìˆ˜ë§‰ (150D)";
        let uploadedImage = null;
        let finalPrice = 0;

        // ì´ˆê¸°í™”
        window.onload = () => { updateUI('fabric'); };

        function handleImageUpload(event) {
            const file = event.target.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    uploadedImage = e.target.result;
                    updatePreview();
                };
                reader.readAsDataURL(file);
            }
        }

        function updateUI(category) {
            currentCat = category;
            const data = db[category];
            
            // ì†Œì¬ ë Œë”ë§
            const matContainer = document.getElementById('material-options');
            matContainer.innerHTML = '';
            data.materials.forEach((m, idx) => {
                const checked = idx === 0 ? 'checked' : '';
                if(idx===0) { currentMatPrice = m.price; currentMatName = m.name; }
                matContainer.innerHTML += `
                    <label class="cursor-pointer">
                        <input type="radio" name="material_detail" value="${m.price}" class="option-card hidden peer" onchange="setMatPrice(${m.price}, '${m.name}')" ${checked}>
                        <div class="px-3 py-2 rounded-lg border border-gray-200 text-xs font-medium hover:bg-gray-50 peer-checked:bg-blue-600 peer-checked:text-white peer-checked:border-blue-600 transition-colors">
                            ${m.name}
                        </div>
                    </label>
                `;
            });

            // í›„ê°€ê³µ ë Œë”ë§
            const finContainer = document.getElementById('finishing-options');
            finContainer.innerHTML = '';
            if(data.finishing.length > 0) {
                data.finishing.forEach(f => {
                    finContainer.innerHTML += `
                        <label class="flex items-center justify-between p-3 border border-gray-200 rounded-lg cursor-pointer hover:bg-gray-50 transition-colors">
                            <div class="flex items-center">
                                <div class="w-8 h-8 rounded-full bg-blue-50 text-blue-600 flex items-center justify-center mr-3 text-sm">
                                    <i class="fa-solid ${f.icon}"></i>
                                </div>
                                <div><div class="font-bold text-sm text-gray-800">${f.name}</div><div class="text-xs text-gray-500">+${f.price.toLocaleString()}ì›</div></div>
                            </div>
                            <input type="checkbox" name="finish_opt" class="w-4 h-4 text-blue-600 rounded focus:ring-blue-500" value="${f.price}" data-name="${f.name}" onchange="updatePreview()">
                        </label>
                    `;
                });
            } else {
                finContainer.innerHTML = '<div class="text-gray-400 text-xs col-span-2 p-3 text-center bg-gray-50 rounded-lg">ì„ íƒ ê°€ëŠ¥í•œ í›„ê°€ê³µ ì˜µì…˜ì´ ì—†ìŠµë‹ˆë‹¤.</div>';
            }
            updatePreview();
        }

        function setMatPrice(price, name) {
            currentMatPrice = price;
            currentMatName = name;
            updatePreview();
        }

        function updatePreview() {
            const w = parseInt(document.getElementById('width').value) || 0;
            const h = parseInt(document.getElementById('height').value) || 0;

            // ê°€ê²© ê³„ì‚°
            const area = (w * h) / 1000000;
            const baseCost = Math.round(area * currentMatPrice);
            let addCost = 0;
            const checks = document.querySelectorAll('input[name="finish_opt"]:checked');
            checks.forEach(c => addCost += parseInt(c.value));
            
            finalPrice = (baseCost < 3000 ? 3000 : baseCost) + addCost;
            document.getElementById('total-price').innerText = finalPrice.toLocaleString() + 'ì›';

            // í”„ë¦¬ë·° ì‹œê°í™”
            const maxPx = 240;
            const ratio = w / h;
            let pW, pH;
            if (ratio > 1) { pW = maxPx; pH = maxPx / ratio; } else { pH = maxPx; pW = maxPx * ratio; }

            const pObj = document.getElementById('preview-object');
            const pText = document.getElementById('preview-text');
            pObj.style.width = `${pW}px`;
            pObj.style.height = `${pH}px`;

            if (uploadedImage) {
                pObj.style.backgroundImage = `url('${uploadedImage}')`;
                pText.style.display = 'none';
            } else {
                pObj.style.backgroundImage = 'none';
                pText.style.display = 'block';
            }

            // ì‹œê°ì  í”¼ë“œë°±
            const warn = document.getElementById('width-warning');
            const borderDiv = document.getElementById('preview-border');
            const holes = document.querySelectorAll('.hole');
            
            warn.classList.toggle('hidden', !(w > 1800 && currentCat === 'fabric'));
            pObj.style.borderRight = (w > 1800 && currentCat === 'fabric') ? "2px dashed red" : "none";

            borderDiv.className = 'absolute inset-0 border-2 border-transparent z-20 pointer-events-none';
            holes.forEach(h => h.classList.add('hidden'));

            checks.forEach(input => {
                const label = input.getAttribute('data-name');
                if(label && label.includes('ë¯¸ì‹±')) borderDiv.className = 'absolute inset-0 border-4 border-dashed border-white z-20 pointer-events-none opacity-70 shadow-inner';
                if(label && label.includes('ì•„ì¼ë ›')) holes.forEach(h => h.classList.remove('hidden'));
            });
        }

        // --- 3. ì¥ë°”êµ¬ë‹ˆ ë¡œì§ ---
        let cartItems = [];

        function addToCart() {
            const w = document.getElementById('width').value;
            const h = document.getElementById('height').value;
            const finishOpts = Array.from(document.querySelectorAll('input[name="finish_opt"]:checked')).map(el => el.getAttribute('data-name')).join(', ');

            const item = {
                id: Date.now(),
                category: db[currentCat].label,
                material: currentMatName,
                size: `${w} x ${h} mm`,
                options: finishOpts || "í›„ê°€ê³µ ì—†ìŒ",
                price: finalPrice,
                image: uploadedImage // ë¯¸ë¦¬ë³´ê¸° ì´ë¯¸ì§€ ì „ë‹¬
            };

            cartItems.push(item);
            renderCart();
            showPage('cart'); // ì¥ë°”êµ¬ë‹ˆ í˜ì´ì§€ë¡œ ì´ë™
            
            // ë±ƒì§€ ì—…ë°ì´íŠ¸
            const badge = document.getElementById('cart-badge');
            badge.innerText = cartItems.length;
            badge.classList.remove('hidden');
        }

        function renderCart() {
            const container = document.getElementById('cart-items-container');
            const emptyMsg = document.getElementById('cart-empty');
            const summary = document.getElementById('cart-summary');
            const grandTotalEl = document.getElementById('cart-grand-total');
            const countTitle = document.getElementById('cart-count-title');

            container.innerHTML = '';
            let grandTotal = 0;

            if (cartItems.length === 0) {
                emptyMsg.classList.remove('hidden');
                container.classList.add('hidden');
                summary.classList.add('hidden');
                countTitle.innerText = `(0)`;
            } else {
                emptyMsg.classList.add('hidden');
                container.classList.remove('hidden');
                summary.classList.remove('hidden'); // flexëŠ” í´ë˜ìŠ¤ ì œê±°ë¡œ ì²˜ë¦¬ë¨
                summary.style.display = 'flex';
                
                countTitle.innerText = `(${cartItems.length})`;

                cartItems.forEach((item, index) => {
                    grandTotal += item.price;
                    const imgHtml = item.image 
                        ? `<div class="w-20 h-20 bg-gray-100 rounded-lg bg-cover bg-center" style="background-image: url('${item.image}')"></div>`
                        : `<div class="w-20 h-20 bg-gray-100 rounded-lg flex items-center justify-center text-gray-400"><i class="fa-solid fa-image"></i></div>`;

                    container.innerHTML += `
                        <div class="bg-white p-4 rounded-xl border border-gray-200 flex items-center justify-between gap-4 animate-fade-in">
                            <div class="flex items-center gap-4">
                                ${imgHtml}
                                <div>
                                    <div class="text-xs text-blue-600 font-bold mb-0.5">${item.category}</div>
                                    <div class="font-bold text-gray-900">${item.material}</div>
                                    <div class="text-sm text-gray-500 mt-1">ê·œê²©: ${item.size}</div>
                                    <div class="text-xs text-gray-400 mt-0.5">ì˜µì…˜: ${item.options}</div>
                                </div>
                            </div>
                            <div class="text-right">
                                <div class="font-bold text-lg mb-2">${item.price.toLocaleString()}ì›</div>
                                <button onclick="removeCartItem(${index})" class="text-xs text-red-500 hover:text-red-700 underline">ì‚­ì œ</button>
                            </div>
                        </div>
                    `;
                });
                grandTotalEl.innerText = grandTotal.toLocaleString() + 'ì›';
            }
        }

        function removeCartItem(index) {
            cartItems.splice(index, 1);
            renderCart();
            
            const badge = document.getElementById('cart-badge');
            badge.innerText = cartItems.length;
            if(cartItems.length === 0) badge.classList.add('hidden');
        }
    </script>
</body>
</html>
